"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~bundle.MultiAccount~bundle.Login~bundle.SmsLogin~ondemand.IntentPrompt"],{86625:(t,e,n)=>{n.d(e,{Z:()=>B});n(6886),n(85940);var i=n(2784),o=n(25686),s=n(68811),r=n.n(s),u=n(29496),l=n(73186),m=n(73228),a=n.n(m),c=n(63752),h=n(31261),d=n(24058),b=n(87053),p=n(41268),_=n(60673);const f="LoginForm_Login_Button",y=a().e919c3bc;class g extends i.Component{constructor(...t){super(...t),this._mobileLoginToken=r().v1().replace(/-/g,""),this._handleSubmit=()=>{const{analytics:t,onSubmit:e}=this.props;if(t.scribe({action:"submit"}),p.Z.flushHTMLCache(),this._setLoginCookie(),e)return e(this._form.elements),!1},this._handleSubmitButtonClick=()=>{!1!==this._handleSubmit()&&this._form.submit()},this._setFormRef=t=>{t&&(this._form=t)},this._setLoginCookie=()=>{const t=new Date(Date.now());t.setTime(t.getTime()+3e5),(0,d.d8)(c.Vu,this._mobileLoginToken,{featureSwitches:this.context.featureSwitches,cookieOptions:{domain:void 0,expires:t}})}}componentDidUpdate(t){this.props.autoSubmit&&!t.autoSubmit&&this._handleSubmitButtonClick()}componentDidMount(){b.Z.inject({scriptId:"jsInstLibrary",src:"https://twitter.com/i/js_inst?c_name=ui_metrics"})}render(){const{children:t,formActionUrl:e,hideSubmitButton:n,horizontalLayout:s,loginReturnPath:r,submitButtonDisabled:l,submitButtonLabel:m,submitButtonSize:a,submitButtonStyle:c,submitButtonType:h}=this.props,[d,b]="string"==typeof r?r.split("?"):[],p=`${encodeURI(d||"/")}${b?`?${b}`:""}`,_=i.createElement(o.Z,{style:s&&S.horizontalFields},i.createElement("input",{name:"redirect_after_login",type:"hidden",value:p}),i.createElement("input",{name:"remember_me",type:"hidden",value:"1"}),i.createElement("input",{name:"authenticity_token",type:"hidden",value:this._mobileLoginToken}),i.createElement("input",{name:"wfa",type:"hidden",value:"1"}),i.createElement("input",{autoComplete:"off",name:"ui_metrics",type:"hidden"}),t,n?null:i.createElement(o.Z,{style:s&&S.loginButtonContainer},i.createElement(u.ZP,{disabled:l,onPress:this._handleSubmitButtonClick,size:a,style:c,testID:f,type:h},m)));return i.createElement(o.Z,{style:S.loginForm},i.createElement("form",{action:e,children:_,method:"post",noValidate:!0,onSubmit:this._handleSubmit,ref:this._setFormRef}))}}g.contextType=h.rC,g.defaultProps={autoSubmit:!1,formActionUrl:"/sessions",hideSubmitButton:!1,submitButtonDisabled:!1,submitButtonLabel:y,submitButtonType:"brandFilled"};const S=l.Z.create((t=>({horizontalFields:{flexDirection:"row",justifyContent:"center",alignItems:"stretch"},loginForm:{width:"100%"},loginButtonContainer:{flexDirection:"column",justifyContent:"center"}}))),B=(0,_.Z)(g,{element:"inline_login_form"})}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~bundle.MultiAccount~bundle.Login~bundle.SmsLogin~ondemand.IntentPrompt.db51553a.js.map